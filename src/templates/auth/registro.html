<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Registro - Controle de Horas Geoprojetos</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Fonte Manrope -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap" rel="stylesheet">

    <!-- Ícones Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

    <style type="text/tailwindcss">
        body {
            background-image: url('https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
        }
    </style>

    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#005a9c",
                        "background-light": "#F4F6F8",
                        "background-dark": "#101c22",
                        "text-light": "#333333",
                        "text-dark": "#f1f1f1"
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.5rem",
                        "lg": "0.75rem",
                        "xl": "1rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>

    <!-- CSS gerado / utilitários (mesmo bloco da página de login) -->
    <style>
        *, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
        ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
        /* reset + forms (mesmo que login) */
        *,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}
        ::after,::before{--tw-content:''}
        :host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}
        body{margin:0;line-height:inherit}
        /* ... (pode manter exatamente o mesmo bloco da página de login) ... */

        body {
            background-image: url('https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
        }

        .placeholder\:text-gray-300::placeholder{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}
        .hover\:bg-primary\/90:hover{background-color:rgb(0 90 156 / 0.9)}
        .hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}
        .hover\:underline:hover{text-decoration-line:underline}
        .focus\:border-primary:focus{--tw-border-opacity:1;border-color:rgb(0 90 156 / var(--tw-border-opacity, 1))}
        .focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}
        .focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}
        .focus\:ring-primary:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(0 90 156 / var(--tw-ring-opacity, 1))}
        .focus\:ring-primary\/50:focus{--tw-ring-color:rgb(0 90 156 / 0.5)}
        .focus\:ring-offset-2:focus{--tw-ring-offset-width:2px}
        .dark\:border-gray-600:is(.dark *){--tw-border-opacity:1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}
        .dark\:bg-background-dark\/50:is(.dark *){background-color:rgb(16 28 34 / 0.5)}
        .dark\:bg-gray-800\/50:is(.dark *){background-color:rgb(31 41 55 / 0.5)}
        .dark\:text-gray-400:is(.dark *){--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}
        .dark\:placeholder\:text-gray-400:is(.dark *)::placeholder{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}
        .dark\:focus\:ring-offset-background-dark:focus:is(.dark *){--tw-ring-offset-color:#101c22}
        
        @media (min-width: 640px){
            .sm\:p-8{padding:2rem}
        }

        /* Alerts iguais à página de login */
        .alert {
            border: none;
            border-radius: 0.75rem;
            padding: 1rem 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
            text-align: center;
            font-weight: 600;
        }

        .alert-success { background-color: rgb(80 227 194 / 30%); color: #a2ffc9; }
        .alert-danger  { background-color: rgb(231 76 60 / 30%); color: #ffb0a7; }
        .alert-warning { background-color: rgb(243 156 18 / 30%); color: #ffc097; }
        .alert-info    { background-color: rgb(74 144 226 / 30%); color: #6cc5ff; }
    </style>
</head>

<body class="font-display">
    <div class="relative flex min-h-screen w-full flex-col items-center justify-center p-4 bg-black/50">
        <div class="w-full max-w-md">
            <!-- Logo e título -->
            <div class="mb-8 text-center">
                <div class="inline-block p-4 bg-white/10 rounded-full backdrop-blur-sm" data-alt="Logo da Geoprojetos, um globo estilizado com as cores azul e verde">
                    <div class="bg-white rounded-full p-2">
                        <div class="h-24 w-24 rounded-full overflow-hidden flex items-center justify-center">
                            <img
                                src="../../static/img/logoGeo.png"
                                alt="Logo Geoprojetos"
                                class="h-full w-full object-contain"
                            >
                        </div>
                    </div>
                </div>

                <p class="mt-4 text-3xl font-bold tracking-tight text-white">Crie sua conta</p>
                <p class="text-base text-gray-300">Registre-se para acessar o Controle de Horas</p>
            </div>

            <!-- Mensagens flash -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <!-- Card / formulário -->
            <div class="rounded-xl border border-gray-200/20 bg-white/10 dark:bg-background-dark/50 p-6 sm:p-8 shadow-2xl backdrop-blur-md">
                <form class="space-y-6" method="POST" action="{{ url_for('auth.registro') }}">
                    <!-- Nome -->
                    <div>
                        <label class="flex flex-col" for="nome">
                            <p class="pb-2 text-sm font-medium leading-normal text-white">Nome completo</p>
                            <input
                                class="form-input w-full resize-none rounded-lg border border-gray-400/50 bg-white/20 dark:border-gray-600 dark:bg-gray-800/50 h-12 px-4 text-sm font-normal leading-normal text-white placeholder:text-gray-300 dark:placeholder:text-gray-400 focus:border-primary focus:ring-primary/50"
                                id="nome"
                                name="nome"
                                type="text"
                                placeholder="Seu nome completo"
                                required
                            >
                        </label>
                    </div>

                    <!-- Email -->
                    <div>
                        <label class="flex flex-col" for="email">
                            <p class="pb-2 text-sm font-medium leading-normal text-white">E-mail empresarial</p>
                            <input
                                class="form-input w-full resize-none rounded-lg border border-gray-400/50 bg-white/20 dark:border-gray-600 dark:bg-gray-800/50 h-12 px-4 text-sm font-normal leading-normal text-white placeholder:text-gray-300 dark:placeholder:text-gray-400 focus:border-primary focus:ring-primary/50"
                                id="email"
                                name="email"
                                type="email"
                                placeholder="seu.email@geoprojetos.com.br"
                                required
                            >
                            <p class="mt-1 text-xs text-gray-300 dark:text-gray-400">
                                Use seu e-mail com domínio <span class="font-medium text-primary">@geoprojetos.com.br</span>
                            </p>
                        </label>
                    </div>

                    <!-- Senha -->
                    <div>
                        <label class="flex flex-col" for="senha">
                            <div class="flex items-center justify-between pb-2">
                                <p class="text-sm font-medium leading-normal text-white">Senha</p>
                            </div>
                            <div class="relative flex w-full items-stretch">
                                <input
                                    class="form-input w-full flex-1 resize-none rounded-lg border border-gray-400/50 bg-white/20 dark:border-gray-600 dark:bg-gray-800/50 h-12 px-4 pr-10 text-sm font-normal leading-normal text-white placeholder:text-gray-300 dark:placeholder:text-gray-400 focus:border-primary focus:ring-primary/50"
                                    id="senha"
                                    name="senha"
                                    type="password"
                                    placeholder="Crie uma senha segura"
                                    required
                                >
                                <button
                                    class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-300 hover:text-white"
                                    type="button"
                                    tabindex="-1"
                                    onclick="const pwdField = document.getElementById('senha'); if (pwdField.type === 'password') { pwdField.type = 'text'; this.firstElementChild.innerHTML = 'visibility_off'; } else { pwdField.type = 'password'; this.firstElementChild.innerHTML = 'visibility'; }"
                                >
                                    <span class="material-symbols-outlined h-5 w-5">visibility</span>
                                </button>
                            </div>
                        </label>
                    </div>

                    <!-- Confirmar senha -->
                    <div>
                        <label class="flex flex-col" for="confirmar_senha">
                            <div class="flex items-center justify-between pb-2">
                                <p class="text-sm font-medium leading-normal text-white">Confirmar senha</p>
                            </div>
                            <div class="relative flex w-full items-stretch">
                                <input
                                    class="form-input w-full flex-1 resize-none rounded-lg border border-gray-400/50 bg-white/20 dark:border-gray-600 dark:bg-gray-800/50 h-12 px-4 pr-10 text-sm font-normal leading-normal text-white placeholder:text-gray-300 dark:placeholder:text-gray-400 focus:border-primary focus:ring-primary/50"
                                    id="confirmar_senha"
                                    name="confirmar_senha"
                                    type="password"
                                    placeholder="Confirme sua senha"
                                    required
                                >
                                <button
                                    class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-300 hover:text-white"
                                    type="button"
                                    tabindex="-1"
                                    onclick="const pwdField2 = document.getElementById('confirmar_senha'); if (pwdField2.type === 'password') { pwdField2.type = 'text'; this.firstElementChild.innerHTML = 'visibility_off'; } else { pwdField2.type = 'password'; this.firstElementChild.innerHTML = 'visibility'; }"
                                >
                                    <span class="material-symbols-outlined h-5 w-5">visibility</span>
                                </button>
                            </div>
                        </label>
                    </div>

                    <!-- Botão Registrar -->
                    <button
                        class="flex w-full cursor-pointer items-center justify-center rounded-lg h-12 px-5 bg-primary text-white text-base font-bold leading-normal tracking-wide hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 dark:focus:ring-offset-background-dark transition-colors"
                        type="submit"
                    >
                        Registrar
                    </button>
                </form>

                <!-- Link para login -->
                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-300 dark:text-gray-400">
                        Já tem uma conta?
                        <a class="font-medium text-primary hover:underline ml-2" href="{{ url_for('auth.login') }}">
                            Faça login
                        </a>
                    </p>
                </div>
            </div>

            <p class="mt-8 text-center text-sm text-gray-300">© 2025 Geoprojetos. Todos os direitos reservados.</p>
        </div>
    </div>
</body>
</html>
